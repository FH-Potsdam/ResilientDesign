// remap jQuery to $
function initNavigation(){currentView=$viewSlider.attr("class").replace("-active","");$navItems.click(function(e){var t=e.target.hash;oldView=currentView;currentView=t.replace("#","");$navItems.filter("."+oldView).parent("li").removeClass("active");$navItems.filter(e.target).parent("li").addClass("active");$viewSlider.removeClass(oldView+"-active").addClass(currentView+"-active");e.preventDefault();return!1})}function loadData(){$.getJSON("data/RD_contentTable_export01.json",function(e){$.each(e,function(e,t){siteData[t.id]=t});console.log("JSON successfully loaded!")})}function initTimeline(){function i(e,t,r){var i=null,s=null;for(var o=0;o<n.length;o++)if(e&&n[o]<=r||t&&n[o]>=r){var u=Math.abs(r-n[o]);if(s==null||u<s){i=n[o];s=u}}return i}var e=$("#guides > div"),t=$("#timeline-value"),n=[0,3,6,12,24,48],r=$("#slider").slider({orientation:"horizontal",range:!0,min:0,max:60,values:[0,3],step:1,animate:!1,slide:function(t,n){var s=t.keyCode!=$.ui.keyCode.RIGHT,o=t.keyCode!=$.ui.keyCode.LEFT;console.log("left:  "+s+", right: "+o);var u=i(s,o,n.value);n.value==n.values[0]?r.slider("values",0,u):r.slider("values",1,u);var a=r.slider("values",1);e.removeClass("active").filter(".g"+a).addClass("active");updateContent(a);return!1}})}function updateContent(e){$content.find(".problems").html(siteData["std"+e].problemtext);$content.find(".solutions").html(siteData["std"+e].solutionstext)}function resizeSite(){windowWidth=$window.width();windowHeight=$window.height()}function onLoad(){initTimeline();loadData()}function mapInRange(e,t,n,r,i){return(i-r)*(e-t)/(n-t)+r}(function(e){})(window.jQuery);var $window,$scrollElement,$nav,$navItems,$container,$viewSlider,$views,$contentWrap,$content,currentView="",lastView="",windowWidth,windowHeight,siteData=[];$(document).ready(function(){$window=$(window);$scrollElement=$("html, body").scrollTop(0);$nav=$("#view-nav");$navItems=$nav.find("a");$container=$("#container");$viewSlider=$container.find("#view-slider");$views=$viewSlider.find("section");$contentWrap=$container.find("#content-wrap");$content=$contentWrap.find("#content");resizeSite();$(window).resize(resizeSite);initNavigation();$(window).load(onLoad)});$.widget("ui.slider",$.ui.slider,{_mouseCapture:function(e){console.log("hey hey hey");var t,n,r,i,s,o,u,a,f=this,l=this.options;if(l.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();t={x:e.pageX,y:e.pageY};n=this._normValueFromMouse(t);r=this._valueMax()-this._valueMin()+1;this.handles.each(function(e){if(!$(this).hasClass("ui-slider-handle-disabled")){var t=Math.abs(n-f.values(e));if(r>t||r===t&&(e===f._lastChangedValue||f.values(e)===l.min)){r=t;i=$(this);s=e}}});if(typeof i=="undefined")return!1;o=this._start(e,s);if(o===!1)return!1;this._mouseSliding=!0;this._handleIndex=s;i.addClass("ui-state-active").focus();u=i.offset();a=!$(e.target).parents().addBack().is(".ui-slider-handle")||$(e.target).parents().addBack().is(".ui-slider-handle-disabled");this._clickOffset=a?{left:0,top:0}:{left:e.pageX-u.left-i.width()/2,top:e.pageY-u.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(e,s,n);this._animateOff=!0;return!0}});$.extend($.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return $.easing[$.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n}});