//////////////
// SVG Vars
//////////////
function showPopup(e,t){var n=$(e.node),r=n[0].getBBox(),i=t.x-185,s=t.y-50,o=$(".leaflet-popup-pane").remove();o=$('<div class="leaflet-popup-pane"><div class="leaflet-popup  leaflet-zoom-animated" style="opacity: 1; transform: translate3d('+i+"px, "+s+'px, 0px); bottom: 27px; left: -82px;"><a class="leaflet-popup-close-button" href="#close">Ã—</a><div class="leaflet-popup-content-wrapper"><div class="leaflet-popup-content" style="width: 133px;"><h4>House</h4><p>This is our house!</p></div></div><div class="leaflet-popup-tip-container"><div class="leaflet-popup-tip"></div></div></div></div>');$("#house-view").append(o)}function activateGraphic(e){$(".active-graphic").removeAttr("class");var t=$(e.node);t.attr("class","active-graphic")}function animateTest(){var e=new Snap.Matrix;e.scale(1.2,1.2);e.translate(30,-250);s.select("g").animate({transform:e.toTransformString()},1e3)}var svg,problemsStroke="#F3C262",problemsFill="#99622D",problemsFillOpacity=1,solutionsStroke="#46B177",solutionsFill="#518265",solutionsFillOpacity=1,selectedStroke="#FFF",selectedFill="#CCC",selectedFillOpacity=1;window.onload=function(){svg=Snap("#house");Snap.load("images/house/optimised.svg",function(e){var t=e.select("g"),n=e.select("#apartment_x5F_Inactive"),r=e.select("#Boy_x5F_1"),i=e.select("#Boy_x5F_2"),s=e.select("#Girl"),o=e.select("#Bottle"),u=e.select("#Lamp"),a=e.select("#Cabinet_x5F_Open"),f=e.select("#Cabinet_x5F_Closed"),l=e.select("#Counter_x5F_Open"),c=e.select("#Counter_x5F_Closed"),h=e.select("#Laptop"),p=e.select("#WC"),d=e.select("#Sink"),v=new Snap.Matrix;v.scale(1.2,1.2);v.translate(30,50);t.attr({transform:v});n.click(function(e){animateTest()});r.click(onElementClicked);i.click(onElementClicked);s.click(onElementClicked);o.click(onElementClicked);u.click(onElementClicked);a.click(onElementClicked);l.click(onElementClicked);h.click(onElementClicked);p.click(onElementClicked);d.click(onElementClicked);$(document).click(function(e){$(".active-graphic").removeAttr("class");var t=$(".leaflet-popup-pane").remove()});svg.append(t)})};var onElementClicked=function(e){activateGraphic(this);showPopup(this,e);e.stopPropagation()};