describe("Set methods",function(){var e;beforeEach(function(){e=Snap(100,100)});afterEach(function(){e.remove()});it("Set.animate",function(t){var n=e.circle(10,20,30),r=e.rect(60,60,30,30),i=Snap.set(n,r),o=i.animate({opacity:.5},10);setTimeout(function(){o.forEach(function(e){var t=e.attr("opacity");expect(t).to.be("0.5")});t()},50);expect(o).to.be(i)});it("Set.animate - with callback",function(t){var n=e.circle(10,20,30),r=e.rect(60,60,30,30),i=Snap.set(n,r),o=i.animate({opacity:.5},10,function(){o.forEach(function(e){var t=e.attr("opacity");expect(t).to.be("0.5")});t()});expect(o).to.be(i)});it("Set.animate - with easing",function(t){var n=e.circle(10,20,30),r=e.rect(60,60,30,30),i=Snap.set(n,r),o=i.animate({opacity:.5},10,mina.easein);setTimeout(function(){o.forEach(function(e){var t=e.attr("opacity");expect(t).to.be("0.5")});t()},50);expect(o).to.be(i)});it("Set.animate - with callback & easing",function(t){var n=e.circle(10,20,30),r=e.rect(60,60,30,30),i=Snap.set(n,r),o=i.animate({opacity:.5},10,mina.easeout,function(){o.forEach(function(e){var t=e.attr("opacity");expect(t).to.be("0.5")});t()});expect(o).to.be(i)});it("Set.clear",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=Snap.set(t,n);expect(r.length).to.be(2);r.clear();expect(r.length).to.be(0)});it("Set.exclude",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=e.rect(10,20,30,40),i=Snap.set(t,n,r);expect(i.length).to.be(3);var o=i.exclude(n);expect(i.length).to.be(2);expect(o).to.be(!0);o=i.exclude(n);expect(i.length).to.be(2);expect(o).to.be(!1)});it("Set.remove",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=e.rect(10,20,30,40),i=Snap.set(t,n,r);expect(i.length).to.be(3);i.remove();expect(i.length).to.be(0);expect(t.removed).to.be(!0);expect(n.removed).to.be(!0);expect(r.removed).to.be(!0)});it("Set.forEach",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=e.rect(10,20,30,40),i=Snap.set(t,n,r),o=0,u=[t,n,r],a=i.forEach(function(e){expect(u[o]).to.be(e);expect(this.isContext).to.be(!0);o++},{isContext:!0});expect(a).to.be(i);expect(o).to.be(3)});it("Set.pop",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=e.rect(10,20,30,40),i=Snap.set(t,n,r);expect(i.length).to.be(3);var o=i.pop();expect(i.length).to.be(2);expect(o).to.be(r);expect(i[0]).to.be(t);expect(i[1]).to.be(n);o=i.pop();expect(i.length).to.be(1);expect(o).to.be(n);expect(i[0]).to.be(t)});it("Set.push",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=e.rect(10,20,30,40),i=Snap.set(t,n);expect(i.length).to.be(2);i.push(r);expect(i.length).to.be(3);expect(i[0]).to.be(t);expect(i[1]).to.be(n);expect(i[2]).to.be(r)});it("Set.attr",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=Snap.set(t,n);r.attr({fill:"#ff0000"});expect(t.node.getAttribute("fill")).to.be("#ff0000");expect(n.node.getAttribute("fill")).to.be("#ff0000");r.attr({stroke:"#0000ff"});expect(t.node.getAttribute("stroke")).to.be("#0000ff");expect(n.node.getAttribute("stroke")).to.be("#0000ff")});it("Set.bind",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=Snap.set(t,n);r.bind("stroke",t);r.bind("fill1",t,"fill");r.bind("fill2",function(e){n.attr({fill:e})});t.attr({fill:"#000000",stroke:"#000000"});n.attr({fill:"#000000",stroke:"#000000"});r.attr({fill1:"#00ff00"});expect(t.node.getAttribute("fill")).to.be("#00ff00");expect(n.node.getAttribute("fill")).to.be("#000000");r.attr({fill:"#ff0000"});expect(t.node.getAttribute("fill")).to.be("#ff0000");expect(n.node.getAttribute("fill")).to.be("#ff0000");r.attr({fill2:"#00ff00"});expect(t.node.getAttribute("fill")).to.be("#ff0000");expect(n.node.getAttribute("fill")).to.be("#00ff00");r.attr({stroke:"#0000ff"});expect(t.node.getAttribute("stroke")).to.be("#0000ff");expect(n.node.getAttribute("stroke")).to.be("#000000")});it("Set.splice - remove only",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=e.rect(10,20,30,40),i=e.rect(10,20,30,40),o=Snap.set(t,n,r,i),u=o.splice(1,2);expect(o.length).to.be(2);expect(o[0]).to.be(t);expect(o[1]).to.be(i);expect(u.length).to.be(2);expect(u[0]).to.be(n);expect(u[1]).to.be(r);var a=o.splice(0,0);expect(o.length).to.be(2);expect(a.length).to.be(0)});it("Set.splice - remove & insert",function(){var t=e.rect(10,20,30,40),n=e.rect(10,20,30,40),r=e.rect(10,20,30,40),i=e.rect(10,20,30,40),o=Snap.set(t,n,r),u=o.splice(2,1,i);expect(o.length).to.be(3);expect(o[0]).to.be(t);expect(o[1]).to.be(n);expect(o[2]).to.be(i);u=o.splice(0,3,i,r,n,t);expect(o[0]).to.be(i);expect(o[1]).to.be(r);expect(o[2]).to.be(n);expect(o[3]).to.be(t);expect(u[0]).to.be(t);expect(u[1]).to.be(n);expect(u[2]).to.be(i)})});