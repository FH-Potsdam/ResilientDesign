describe("Snap methods",function(){it("Snap.Matrix - six params",function(){var e=new Snap.Matrix(1,2,3,4,5,6);expect(e).to.eql({a:1,b:2,c:3,d:4,e:5,f:6})});it("Snap.Matrix - SVGMatrix param",function(){var e=(new Snap(10,10)).node.createSVGMatrix(),t=new Snap.Matrix(e);expect(t).to.eql({a:1,b:0,c:0,d:1,e:0,f:0})});it("Snap.ajax - no postData",function(e){var t=Snap.ajax("./res/file-for-ajax.txt",function(t){var n=t.responseText;expect(n).to.be("success");expect(this.isContext).to.be(!0);e()},{isContext:!0});expect(t).to.be.an("object")});it("Snap.ajax - with object postData",function(e){var t=Snap.ajax("./res/file-for-ajax.txt",{foo:"bar"},function(t){var n=t.responseText;expect(n).to.be("success");expect(this.isContext).to.be(!0);e()},{isContext:!0});expect(t).to.be.an("object")});it("Snap.ajax - with string postData",function(e){var t=Snap.ajax("./res/file-for-ajax.txt","foo=bar",function(t){var n=t.responseText;expect(n).to.be("success");expect(this.isContext).to.be(!0);e()},{isContext:!0});expect(t).to.be.an("object")});var e=function(e){expect(e).to.be.an("object");expect(e.id).to.be.a("string");expect(e.duration).to.be.a("function");expect(e.easing).to.be.a("function");expect(e.speed).to.be.a("function");expect(e.status).to.be.a("function");expect(e.stop).to.be.a("function")};it("Snap.animate - numbers, no easing or callback",function(t){var n,r=Snap.animate(10,20,function(e){n=e},50);setTimeout(function(){expect(n).to.be(20);t()},100);e(r)});it("Snap.animate - numbers, callback",function(t){var n,r=Snap.animate(10,20,function(e){n=e},50,function(){expect(n).to.be(20);t()});e(r)});it("Snap.animate - numbers, easing",function(t){var n,r=Snap.animate(10,20,function(e){n=e},50,mina.easeinout);setTimeout(function(){expect(n).to.be(20);t()},100);e(r)});it("Snap.animate - numbers, easing & callback",function(t){var n,r=Snap.animate(10,20,function(e){n=e},50,mina.bounce,function(){expect(n).to.be(20);t()});e(r)});it("Snap.animate - arrays, no easing or callback",function(t){var n,r,i=Snap.animate([5,10],[10,20],function(e){n=e[0];r=e[1]},50);setTimeout(function(){expect(n).to.be(10);expect(r).to.be(20);t()},100);e(i)});it("Snap.animate - arrays, callback",function(t){var n,r,i=Snap.animate([5,10],[10,20],function(e){n=e[0];r=e[1]},50,function(){expect(n).to.be(10);expect(r).to.be(20);t()});e(i)});it("Snap.animate - arrays, easing",function(t){var n,r,i=Snap.animate([5,10],[10,20],function(e){n=e[0];r=e[1]},50,mina.easeinout);setTimeout(function(){expect(n).to.be(10);expect(r).to.be(20);t()},100);e(i)});it("Snap.animate - arrays, easing & callback",function(t){var n,r,i=Snap.animate([5,10],[10,20],function(e){n=e[0];r=e[1]},50,mina.backin,function(){expect(n).to.be(10);expect(r).to.be(20);t()});e(i)});it("Snap.animation - no easing or callback",function(){var e=Snap.animation({foo:"bar"},100);expect(e).to.be.an("object");expect(e.dur).to.be(100);expect(e.attr.foo).to.be("bar")});it("Snap.animation - with easing",function(){var e=Snap.animation({foo:"bar"},100,mina.easein);expect(e).to.be.an("object");expect(e.dur).to.be(100);expect(e.attr.foo).to.be("bar");expect(e.easing).to.be.a("function")});it("Snap.animation - with callback",function(){var e=function(){},t=Snap.animation({foo:"bar"},100,e);expect(t).to.be.an("object");expect(t.dur).to.be(100);expect(t.attr.foo).to.be("bar");expect(t.callback).to.be.a("function")});it("Snap.animation - with easing & callback",function(){var e=function(){},t=Snap.animation({foo:"bar"},100,mina.linear,e);expect(t).to.be.an("object");expect(t.dur).to.be(100);expect(t.attr.foo).to.be("bar");expect(t.easing).to.be.a("function");expect(t.callback).to.be.a("function");expect(t.easing).to.not.be(t.callback)});it("Snap.deg",function(){expect(Snap.deg(Math.PI)).to.be(180);expect(Snap.deg(Math.PI/2)).to.be(90);expect(Snap.deg(Math.PI/4)).to.be(45);expect(Snap.deg(Math.PI*2)).to.be(0)});it("Snap.rad",function(){expect(Snap.rad(180)).to.be(Math.PI);expect(Snap.rad(90)).to.be(Math.PI/2);expect(Snap.rad(45)).to.be(Math.PI/4);expect(Snap.rad(0)).to.be(0)});it("Snap.format",function(){var e;e=Snap.format("{x}",{x:1});expect(e).to.be("1");e=Snap.format("{a['foo']}",{a:{foo:"bar"}});expect(e).to.be("bar");e=Snap.format("M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z",{x:10,y:20,dim:{width:40,height:50,"negative width":-40}});expect(e).to.be("M10,20h40v50h-40z")});it("Snap.fragment",function(){var e=Snap.fragment('<g class="foo"></g>','<g class="foo2"></g>');expect(e).to.be.an("object");expect(e.node.childNodes.length).to.be(2);expect(e.node.firstChild.nodeName).to.be("g");expect(e.node.firstChild.getAttribute("class")).to.be("foo");expect(e.node.lastChild.getAttribute("class")).to.be("foo2");e=Snap.fragment('<g class="foo"><rect x="0" y="0" width="10" height="10"/></g>');var t=e.select("rect").attr("width");expect(t).to.be("10")});it("Snap.is",function(){var e;expect(Snap.is("foo","string")).to.be.ok();expect(Snap.is(123,"number")).to.be.ok();expect(Snap.is({},"object")).to.be.ok();expect(Snap.is([],"array")).to.be.ok();expect(Snap.is([],"object")).to.be.ok();expect(Snap.is(null,"null")).to.be.ok();expect(Snap.is(!1,"boolean")).to.be.ok();expect(Snap.is(e,"undefined")).to.be.ok();expect(Snap.is(function(){},"function")).to.be.ok();expect(Snap.is(function(){},"object")).to.be.ok()});it("Snap.load - with context",function(e){Snap.load("./res/external-svg.svg",function(t){expect(t.node.querySelector("svg")).to.not.be(null);expect(this.myContext).to.be(!0);e()},{myContext:!0})});it("Snap.load - without context",function(e){Snap.load("./res/external-svg.svg",function(t){expect(t.node.querySelector("svg")).to.not.be(null);e()})});it("Snap.parse",function(){var e=Snap.parse('<g class="foo"></g>');expect(e).to.be.an("object");expect(e.node.childNodes.length).to.be(1);expect(e.node.firstChild.nodeName).to.be("g");expect(e.node.firstChild.getAttribute("class")).to.be("foo");e=Snap.parse('<g class="foo"><rect x="0" y="0" width="10" height="10"/></g>');var t=e.select("rect").attr("width");expect(t).to.be("10")});it("Snap.parsePathString - string",function(){var e=Snap.parsePathString("M1 2m3 4L 5, 6l 7, 8H 9h 10V 11v 12C 13 14, 15 16, 17 18c 19 20, 21 22, 23 24S 25 26, 27 28s 29 30, 31 32Q 33 34, 35 36q 37 38, 39 40T 41 42t 43 44A 45 46 47 0 1 48 49a 50 51 52 1 0 53 54Z");expect(e[0]).to.eql(["M",1,2]);expect(e[1]).to.eql(["m",3,4]);expect(e[2]).to.eql(["L",5,6]);expect(e[3]).to.eql(["l",7,8]);expect(e[4]).to.eql(["H",9]);expect(e[5]).to.eql(["h",10]);expect(e[6]).to.eql(["V",11]);expect(e[7]).to.eql(["v",12]);expect(e[8]).to.eql(["C",13,14,15,16,17,18]);expect(e[9]).to.eql(["c",19,20,21,22,23,24]);expect(e[10]).to.eql(["S",25,26,27,28]);expect(e[11]).to.eql(["s",29,30,31,32]);expect(e[12]).to.eql(["Q",33,34,35,36]);expect(e[13]).to.eql(["q",37,38,39,40]);expect(e[14]).to.eql(["T",41,42]);expect(e[15]).to.eql(["t",43,44]);expect(e[16]).to.eql(["A",45,46,47,0,1,48,49]);expect(e[17]).to.eql(["a",50,51,52,1,0,53,54]);expect(e[18]).to.eql(["Z"])});it("Snap.parsePathString - array",function(){var e=Snap.parsePathString(["M1 2"]);expect(e[0]).to.eql(["M",1,2])});it("Snap.parseTransformString - string",function(){var e=new Snap.Matrix(1,0,0,2,0,0),t=e.toTransformString(),n=Snap.parseTransformString(t);expect(n[0]).to.eql(["s",1,2,0,0])});it("Snap.parseTransformString - array",function(){var e=Snap.parseTransformString(["s",1,2,0,0]);expect(e[0]).to.eql(["s",1,2,0,0])});it("Snap.select",function(){var e=Snap(10,10),t=e.group(),n=e.group(),r=e.group(),i=e.circle(10,20,30).attr({"class":"circle-one"}),s=e.circle(5,10,25).attr({"class":"circle-two"});t.add(n);n.add(r);n.add(i);r.add(s);var o=Snap.select(".circle-one");expect(i).to.be(o);var u=Snap.select(".circle-two");expect(s).to.be(u);e.remove()});it("Snap.selectAll",function(){var e=Snap(10,10),t=e.group(),n=e.group(),r=e.group(),i=e.circle(10,20,30).attr({"class":"circle-one"}),s=e.circle(5,10,25).attr({"class":"circle-two"});t.add(n);n.add(r);n.add(i);r.add(s);var o=Snap.selectAll("circle");expect(o.length).to.be(2);expect(o).to.contain(i);expect(o).to.contain(s);e.remove()});it("Snap.snapTo - number, no tolerance",function(){expect(Snap.snapTo(100,-5)).to.be(0);expect(Snap.snapTo(100,1e-4)).to.be(0);expect(Snap.snapTo(100,9)).to.be(0);expect(Snap.snapTo(100,50)).to.be(50);expect(Snap.snapTo(100,75)).to.be(75);expect(Snap.snapTo(100,90)).to.be(90);expect(Snap.snapTo(100,91)).to.be(100);expect(Snap.snapTo(100,95)).to.be(100);expect(Snap.snapTo(100,1204)).to.be(1200)});it("Snap.snapTo - array, no tolerance",function(){var e=[0,55,200];expect(Snap.snapTo(e,-5)).to.be(0);expect(Snap.snapTo(e,1e-4)).to.be(0);expect(Snap.snapTo(e,9)).to.be(0);expect(Snap.snapTo(e,50)).to.be(55);expect(Snap.snapTo(e,75)).to.be(75);expect(Snap.snapTo(e,90)).to.be(90);expect(Snap.snapTo(e,91)).to.be(91);expect(Snap.snapTo(e,195)).to.be(200);expect(Snap.snapTo(e,1204)).to.be(1204)});it("Snap.snapTo - number, with tolerance",function(){expect(Snap.snapTo(100,95,0)).to.be(95);expect(Snap.snapTo(100,95,5)).to.be(95);expect(Snap.snapTo(100,95,6)).to.be(100);expect(Snap.snapTo(100,105,6)).to.be(100);expect(Snap.snapTo(100,105,5)).to.be(105);expect(Snap.snapTo(100,105,0)).to.be(105)});it("Snap.snapTo - array, with tolerance",function(){var e=[0,55,200];expect(Snap.snapTo(e,-5,20)).to.be(0);expect(Snap.snapTo(e,-5,3)).to.be(-5);expect(Snap.snapTo(e,1e-4,1e-5)).to.be(1e-4);expect(Snap.snapTo(e,1e-4,1)).to.be(0);expect(Snap.snapTo(e,9,9)).to.be(0);expect(Snap.snapTo(e,9,10.5)).to.be(0);expect(Snap.snapTo(e,50,6)).to.be(55);expect(Snap.snapTo(e,50,1)).to.be(50);expect(Snap.snapTo(e,201,.5)).to.be(201);expect(Snap.snapTo(e,199,1)).to.be(200);expect(Snap.snapTo(e,299,100)).to.be(200)});it("Snap.path.getBBox",function(){var e=Snap.path.getBBox("M10,20h30v40h-30z");expect(e.x).to.eql(10);expect(e.y).to.eql(20);expect(e.width).to.eql(30);expect(e.height).to.eql(40);expect(e.x2).to.eql(40);expect(e.y2).to.eql(60)});it("Snap.angle - 2 points",function(){var e=Snap.angle(0,0,10,10);expect(e).to.not.be(0);expect(e%45).to.be(0);e=Snap.angle(0,0,10,0);expect(e%90).to.be(0)});it("Snap.angle - 3 points",function(){var e=Snap.angle(10,0,0,10,0,0);expect(e).to.not.be(0);expect(e%45).to.be(0);e=Snap.angle(10,0,0,10,0,0);expect(Math.abs(e)).to.be(90)})});