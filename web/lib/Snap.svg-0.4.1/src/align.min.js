// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
Snap.plugin(function(e,t,n,r,i){var s=e._.box,o=e.is,u=/^[^a-z]*([tbmlrc])/i,a=function(){return"T"+this.dx+","+this.dy};t.prototype.getAlign=function(e,t){if(t==null&&o(e,"string")){t=e;e=null}e=e||this.paper;var n=e.getBBox?e.getBBox():s(e),r=this.getBBox(),i={};t=t&&t.match(u);t=t?t[1].toLowerCase():"c";switch(t){case"t":i.dx=0;i.dy=n.y-r.y;break;case"b":i.dx=0;i.dy=n.y2-r.y2;break;case"m":i.dx=0;i.dy=n.cy-r.cy;break;case"l":i.dx=n.x-r.x;i.dy=0;break;case"r":i.dx=n.x2-r.x2;i.dy=0;break;default:i.dx=n.cx-r.cx;i.dy=0}i.toString=a;return i};t.prototype.align=function(e,t){return this.transform("..."+this.getAlign(e,t))}});